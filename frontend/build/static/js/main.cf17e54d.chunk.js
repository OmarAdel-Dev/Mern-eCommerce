(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{176:function(e,t,a){},186:function(e,t,a){},219:function(e,t,a){e.exports=a(395)},224:function(e,t,a){},226:function(e,t,a){},227:function(e,t,a){},277:function(e,t,a){},286:function(e,t,a){},306:function(e,t,a){},311:function(e,t,a){},385:function(e,t,a){},386:function(e,t,a){},387:function(e,t,a){},388:function(e,t,a){},395:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(34),o=a.n(c),l=(a(224),a(225),a(226),a(44)),s=a(40),i=a(36),u=(a(227),a(26)),m=a(35),p=a.n(m),d=a(50),E=a(61),f=a.n(E),g=a(396),h=a(75),y=a(402),b=a(410),S=a(411),v=a(412),O=a(413),I=a(414),_=a(415),C=a(416),j=function(){var e=g.a.Header,t=h.a.SubMenu,a=Object(s.g)(),c=Object(n.useState)(!1),o=Object(i.a)(c,2),m=o[0],E=o[1],f=Object(n.useState)(null),j=Object(i.a)(f,2),R=j[0],T=j[1],w=Object(u.c)((function(e){return e.userLogin})).userInfo,P=Object(u.b)(),U=function(){P(function(){var e=Object(d.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.removeItem("userInfo"),t({type:"USER_LOGOUT"});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),a.push("/")};return r.a.createElement("div",null,r.a.createElement(e,{className:"header",theme:"light"},r.a.createElement(l.b,{to:"/"},r.a.createElement("div",{className:"logo",onClick:function(){T(null)}},r.a.createElement("img",{src:"/logo.png",alt:"ProShop logo"}),r.a.createElement("span",null,"PROSHOP"))),r.a.createElement(h.a,{className:"navbar-items",theme:"light",mode:"horizontal",onClick:function(e){T(e.key)},selectedKeys:[R]},r.a.createElement(h.a.Item,{className:"navbar-item",key:"cart",icon:r.a.createElement(b.a,null)},r.a.createElement(l.b,{to:"/cart"},"Cart")),w?r.a.createElement(t,{key:"SubMenu",icon:r.a.createElement(S.a,null),title:w.name},r.a.createElement(h.a.Item,{key:"setting:1",icon:r.a.createElement(v.a,null)},r.a.createElement(l.b,{to:"/profile"},"Profile")),r.a.createElement(h.a.Item,{key:"setting:2",icon:r.a.createElement(O.a,null),onClick:function(){return U()}},"Logout")):r.a.createElement(h.a.Item,{className:"navbar-item",key:"login",icon:r.a.createElement(I.a,null)},r.a.createElement(l.b,{to:"/login"},"Sign In")),r.a.createElement(h.a.Item,{className:"navbar-item",icon:r.a.createElement(_.a,null),onClick:function(){E(!m)}}))),r.a.createElement("div",{className:"search-field ".concat(m?"appear":"disappear")},r.a.createElement(y.a,{placeholder:"Search..."}),r.a.createElement(C.a,{onClick:function(){E(!1),T(null)}})))},R=function(){var e=g.a.Footer;return r.a.createElement("div",{className:"",style:{zIndex:"1"}},r.a.createElement(e,{style:{textAlign:"center"}},"Copyright \xa92020 All rights reserved"))},T=(a(277),a(400)),w=a(404),P=function(e){var t=e.product,a=T.a.Meta,n=t.name,c=t.image,o=t.category,s=t.price,i=t.rating,u=t._id;return r.a.createElement(l.b,{to:"/product/".concat(u)},r.a.createElement(T.a,{hoverable:!0,style:{width:240,height:360},cover:r.a.createElement("img",{alt:"example",src:c})},r.a.createElement(a,{title:o}),r.a.createElement(a,{className:"product-item-name",title:n}),r.a.createElement(a,{className:"product-item-price",title:"$".concat(s)}),r.a.createElement(w.a,{allowHalf:!0,defaultValue:i,disabled:!0})))},U=(a(286),a(132)),N=a(407),A=function(){var e=Object(u.c)((function(e){return e.productList})),t=e.loading,a=e.error,c=e.products,o=Object(u.b)();return console.log(e),Object(n.useEffect)((function(){o(function(){var e=Object(d.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"PRODUCT_LIST_REQUEST"}),e.next=4,f.a.get("/api/products");case 4:a=e.sent,n=a.data,t({type:"PRODUCT_LIST_SUCCESS",payload:n}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:"PRODUCT_LIST_FAIL",payload:e.t0.response&&e.t0.response.data.msg?e.t0.response.data.msg:e.t0.response});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}())}),[]),r.a.createElement("div",{className:"latest-products"},r.a.createElement("h2",null,"Latest ",r.a.createElement("span",null,"Products")),r.a.createElement("div",{className:"products-container"},t?r.a.createElement(U.a,{size:"large",tip:"Loading..."}):a?r.a.createElement(N.a,{message:a,type:"error",showIcon:!0}):c.map((function(e){return r.a.createElement(P,{product:e})}))))},k=(a(306),a(406)),L=a(74),x=a(408),D=a(417),F=a(418),M=a(419),q=function(e){var t=e.history,a=e.match,c=Object(n.useState)(1),o=Object(i.a)(c,2),s=o[0],m=o[1],E=Object(u.c)((function(e){return e.productDetails})),g=E.loading,h=E.error,y=E.product,b=Object(u.b)();Object(n.useEffect)((function(){var e;b((e=a.params.id,function(){var t=Object(d.a)(p.a.mark((function t(a){var n,r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"PRODUCT_DETAILS_REQUEST"}),t.next=4,f.a.get("/api/products/".concat(e));case 4:n=t.sent,r=n.data,a({type:"PRODUCT_DETAILS_SUCCESS",payload:r}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:"PRODUCT_DETAILS_FAIL",payload:t.t0.response&&t.t0.response.data.msg?t.t0.response.data.msg:t.t0.response});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()))}),[b,a]);return console.log(g),r.a.createElement("div",{className:"product-screen"},g?r.a.createElement(U.a,{size:"large",tip:"Loading..."}):h?r.a.createElement(N.a,{message:h,type:"error",showIcon:!0}):r.a.createElement(r.a.Fragment,null,r.a.createElement(k.a,null,r.a.createElement(l.b,{to:"/"},r.a.createElement(k.a.Item,null,r.a.createElement(D.a,null),r.a.createElement("span",null,"Home"))),r.a.createElement(k.a.Item,null,"Products")),r.a.createElement("div",{className:"product-container"},r.a.createElement("div",{className:"product-image"},r.a.createElement("img",{src:y.image})),r.a.createElement("div",{className:"product-details"},r.a.createElement("h2",null,y.name),r.a.createElement("h1",null,"$",y.price),r.a.createElement("ul",{className:"product-info"},r.a.createElement("li",{className:"product-info-item"},"Category: ",y.category),r.a.createElement("li",{className:"product-info-item"},"Availibility:"," ",y.countInStock>0?"In Stock":"Out of Stock")),r.a.createElement("p",null,y.description),r.a.createElement("div",{className:"rate"},r.a.createElement(w.a,{allowHalf:!0,defaultValue:y.rating,disabled:!0}),r.a.createElement("span",null,y.numReviews," Reviews"),r.a.createElement(L.a,{type:"ghost",icon:r.a.createElement(F.a,{twoToneColor:"#FF8920"}),size:"middle"})),r.a.createElement("div",{className:"d-flex row add-to-cart"},y.countInStock>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,"Quantity:"),r.a.createElement(x.a,{min:0,max:y.countInStock,defaultValue:0,value:s,onChange:m})),r.a.createElement(L.a,{className:"add-to-cart-btn",type:"primary",icon:r.a.createElement(M.a,null),size:"middle",disabled:0===y.countInStock,onClick:function(){t.push("/cart/".concat(a.params.id,"?qty=").concat(s))}},"Add to cart"))))))},G=function(e,t){return function(){var a=Object(d.a)(p.a.mark((function a(n,r){var c,o;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,f.a.get("/api/products/".concat(e));case 2:c=a.sent,o=c.data,n({type:"CART_ADD_ITEM",payload:{product:o._id,name:o.name,image:o.image,price:o.price,countInStock:o.countInStock,qty:t}}),localStorage.setItem("cartItems",JSON.stringify(r().cart.cartItems));case 6:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()},Q=a(403),z=a(409),V=a(78),J=a(405),H=a(420),$=(a(311),function(e){var t=e.match,a=e.location,c=e.history,o=t.params.id,l=a.search?a.search.split("=")[1]:1,s=Object(u.b)(),i=Object(u.c)((function(e){return e.cart})).cartItems;console.log(i),Object(n.useEffect)((function(){o&&s(G(o,l))}),[s,o,l]);return r.a.createElement("div",{className:"cart-screen"},r.a.createElement(z.b,{className:"cartlist",bordered:!0,itemLayout:"horizontal",dataSource:i,locale:{emptyText:r.a.createElement(V.a,{description:r.a.createElement("span",null,"No Cart Items")})},renderItem:function(e){return r.a.createElement(z.b.Item,null,r.a.createElement(z.b.Item.Meta,{avatar:r.a.createElement(J.a,{shape:"square",size:128,src:e.image}),title:e.name}),r.a.createElement("div",{className:"cartlist-item"},r.a.createElement(x.a,{min:1,max:e.countInStock,value:e.qty,onChange:function(t){return s(G(e.product,t))}}),r.a.createElement("p",null,"price:",e.price),r.a.createElement(L.a,{danger:!0,icon:r.a.createElement(H.a,null),onClick:function(){return s((t=e.product,function(){var e=Object(d.a)(p.a.mark((function e(a,n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a({type:"CART_REMOVE_ITEM",payload:t}),localStorage.setItem("cartItems",JSON.stringify(n().cart.cartItems));case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()));var t}},"Delete")))}}),r.a.createElement(L.a,{className:"proceed-button",type:"primary",onClick:function(){0===i.length?Q.b.error({content:"Can't proceed to checkout with no cart items",duration:2}):c.push("/shipping")}},"Proceed to checkout"))}),B=a(399),W=a(421),Y=a(422),K=a(423),X=(a(176),function(e){var t=e.location,a=e.history,c=Object(n.useState)(""),o=Object(i.a)(c,2),s=o[0],m=o[1],E=Object(n.useState)(""),g=Object(i.a)(E,2),h=g[0],b=g[1],v=t.search?t.search.split("=")[1]:"/",O=Object(u.c)((function(e){return e.userLogin})),I=O.userInfo,_=O.loading,C=O.error,j=Object(u.b)(),R="updatable";Object(n.useEffect)((function(){I&&a.push(v)}),[a,I]),Object(n.useEffect)((function(){console.log(_),_?Q.b.loading("Logging in...",R):!1===_&&I?Q.b.success({content:"Welcome to ProShop!",key:R,duration:2}):!1===_&&C&&Q.b.error({content:C,key:R,duration:2})}),[_]);return r.a.createElement(B.a,{name:"normal_login",className:"login-form",onFinish:function(){j(function(e,t){return function(){var a=Object(d.a)(p.a.mark((function a(n){var r,c,o;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:"USER_LOGIN_REQUEST"}),r={headers:{"Content-Type":"application/json"}},a.next=5,f.a.post("/api/users/login",{email:e,password:t},r);case 5:c=a.sent,o=c.data,n({type:"USER_LOGIN_SUCCESS",payload:o}),localStorage.setItem("userInfo",JSON.stringify(o)),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(0),n({type:"USER_LOGIN_FAIL",payload:a.t0.response&&a.t0.response.data.msg?a.t0.response.data.msg:a.t0.response});case 14:case"end":return a.stop()}}),a,null,[[0,11]])})));return function(e){return a.apply(this,arguments)}}()}(s,h))}},r.a.createElement(B.a.Item,{name:"email",rules:[{required:!0,message:"Please input your Email!"}]},r.a.createElement(y.a,{prefix:r.a.createElement(S.a,{className:"site-form-item-icon"}),value:s,onChange:function(e){return m(e.target.value)},placeholder:"Email"})),r.a.createElement(B.a.Item,{name:"password",rules:[{required:!0,message:"Please input your Password!"}]},r.a.createElement(y.a.Password,{prefix:r.a.createElement(W.a,{className:"site-form-item-icon"}),value:h,onChange:function(e){return b(e.target.value)},type:"password",placeholder:"Password",iconRender:function(e){return e?r.a.createElement(Y.a,null):r.a.createElement(K.a,null)}})),r.a.createElement(B.a.Item,null,r.a.createElement("a",{className:"login-form-forgot",href:""},"Forgot password")),r.a.createElement(B.a.Item,null,r.a.createElement(L.a,{type:"primary",htmlType:"submit",className:"login-form-button",loading:_},"Log in"),r.a.createElement("span",null,"Or "),r.a.createElement(l.b,{to:"/register"},"register now!")))}),Z=a(424),ee=function(e){var t=e.location,a=e.history,c=Object(n.useState)(""),o=Object(i.a)(c,2),s=o[0],m=o[1],E=Object(n.useState)(""),g=Object(i.a)(E,2),h=g[0],b=g[1],v=Object(n.useState)(""),O=Object(i.a)(v,2),I=O[0],_=O[1],C=Object(n.useState)(""),j=Object(i.a)(C,2),R=j[0],T=j[1],w=t.search?t.search.split("=")[1]:"/",P=Object(u.c)((function(e){return e.userRegister})),U=P.userInfo,N=P.loading,A=P.error,k=Object(u.b)(),x="updatable";Object(n.useEffect)((function(){console.log(U),U&&a.push(w)}),[a,U]),Object(n.useEffect)((function(){console.log(N),N?Q.b.loading("Registering...",x):!1===N&&U?Q.b.success({content:"Welcome to ProShop!",key:x,duration:2}):!1===N&&A&&Q.b.error({content:A,key:x,duration:2})}),[N]);return r.a.createElement(B.a,{name:"normal_login",className:"login-form",onFinish:function(){k(function(e,t,a){return function(){var n=Object(d.a)(p.a.mark((function n(r){var c,o,l;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r({type:"USER_REGISTER_REQUEST"}),c={headers:{"Content-Type":"application/json"}},n.next=5,f.a.post("/api/users",{name:e,email:t,password:a},c);case 5:o=n.sent,l=o.data,r({type:"USER_REGISTER_SUCCESS",payload:l}),r({type:"USER_LOGIN_SUCCESS",payload:l}),localStorage.setItem("userInfo",JSON.stringify(l)),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(0),r({type:"USER_REGISTER_FAIL",payload:n.t0.response&&n.t0.response.data.msg?n.t0.response.data.msg:n.t0.response});case 15:case"end":return n.stop()}}),n,null,[[0,12]])})));return function(e){return n.apply(this,arguments)}}()}(h,s,I))}},r.a.createElement(B.a.Item,{name:"name",rules:[{required:!0,message:"Please input your name!"}]},r.a.createElement(y.a,{prefix:r.a.createElement(S.a,{className:"site-form-item-icon"}),value:h,onChange:function(e){return b(e.target.value)},placeholder:"Name"})),r.a.createElement(B.a.Item,{name:"email",rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your Email!"}]},r.a.createElement(y.a,{prefix:r.a.createElement(Z.a,{className:"site-form-item-icon"}),value:s,onChange:function(e){return m(e.target.value)},placeholder:"Email"})),r.a.createElement(B.a.Item,{name:"password",rules:[{required:!0,message:"Please input your Password!"}]},r.a.createElement(y.a.Password,{prefix:r.a.createElement(W.a,{className:"site-form-item-icon"}),value:I,onChange:function(e){return _(e.target.value)},type:"password",placeholder:"Password",iconRender:function(e){return e?r.a.createElement(Y.a,null):r.a.createElement(K.a,null)}})),r.a.createElement(B.a.Item,{name:"confirmPassword",dependencies:["password"],rules:[{required:!0,message:"Please confirm your Password!"},function(e){var t=e.getFieldValue;return{validator:function(e,a){return a&&t("password")!==a?Promise.reject("The two passwords that you entered do not match!"):Promise.resolve()}}}]},r.a.createElement(y.a.Password,{prefix:r.a.createElement(W.a,{className:"site-form-item-icon"}),value:R,onChange:function(e){return T(e.target.value)},type:"password",placeholder:"Confrim Password",iconRender:function(e){return e?r.a.createElement(Y.a,null):r.a.createElement(K.a,null)}})),r.a.createElement(B.a.Item,null,r.a.createElement(L.a,{type:"primary",htmlType:"submit",className:"login-form-button"},"Register"),r.a.createElement("span",null,"Already have an acount! "),r.a.createElement(l.b,{to:"/login"},"login")))},te=(a(385),function(e){var t=e.history,a=Object(n.useState)(""),c=Object(i.a)(a,2),o=c[0],l=c[1],s=Object(n.useState)(""),m=Object(i.a)(s,2),E=m[0],g=m[1],h=Object(n.useState)(""),b=Object(i.a)(h,2),v=b[0],O=b[1],I=Object(n.useState)(""),_=Object(i.a)(I,2),C=_[0],j=_[1],R=Object(n.useState)(!1),T=Object(i.a)(R,2),w=T[0],P=T[1],U=Object(u.c)((function(e){return e.userDetails})).user,N=Object(u.c)((function(e){return e.userLogin})).userInfo,A=Object(u.c)((function(e){return e.userUpdateProfile})),k=A.loading,x=A.userInfo,D=A.error,F=Object(u.b)(),M="updatable";Object(n.useEffect)((function(){var e;N?U.name?U&&(console.log(U.name,U.email),g(U.name),l(U.email)):F((e="profile",function(){var t=Object(d.a)(p.a.mark((function t(a,n){var r,c,o,l,s;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,console.log("here"),a({type:"USER_DETAILS_REQUEST"}),r=n(),c=r.userLogin.userInfo,o={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c.token)}},t.next=7,f.a.get("/api/users/".concat(e),o);case 7:l=t.sent,s=l.data,a({type:"USER_DETAILS_SUCCESS",payload:s}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),a({type:"USER_DETAILS_FAIL",payload:t.t0.response&&t.t0.response.data.msg?t.t0.response.data.msg:t.t0.response});case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,a){return t.apply(this,arguments)}}())):t.push("/login")}),[N,U]),Object(n.useEffect)((function(){w&&(k?Q.b.loading("Updating..",M):!1===k&&x?Q.b.success({content:"Updated Succefully!",key:M,duration:2}):!1===k&&D&&Q.b.error({content:D,key:M,duration:2}))}),[k]);return r.a.createElement(B.a,{name:"normal_login",className:"login-form",onFinish:function(){F(function(e){return function(){var t=Object(d.a)(p.a.mark((function t(a,n){var r,c,o,l,s;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"USER_UPDATE_REQUEST"}),r=n(),c=r.userLogin.userInfo,o={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c.token)}},t.next=6,f.a.put("/api/users/profile",e,o);case 6:l=t.sent,s=l.data,a({type:"USER_UPDATE_SUCCESS",payload:s}),a({type:"USER_LOGIN_SUCCESS",payload:s}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),a({type:"USER_UPDATE_FAIL",payload:t.t0.response&&t.t0.response.data.msg?t.t0.response.data.msg:t.t0.response});case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,a){return t.apply(this,arguments)}}()}({id:U._id,name:E,email:o,password:v})),P(!0)}},r.a.createElement(B.a.Item,{name:"name",rules:[{required:!0,message:"Please input your name!"}]},r.a.createElement(y.a,{prefix:r.a.createElement(S.a,{className:"site-form-item-icon"}),value:E,onChange:function(e){return g(e.target.value)},placeholder:"Name"})),r.a.createElement(B.a.Item,{name:"email",rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your Email!"}]},r.a.createElement(y.a,{prefix:r.a.createElement(Z.a,{className:"site-form-item-icon"}),value:o,onChange:function(e){return l(e.target.value)},placeholder:"Email"})),r.a.createElement(B.a.Item,{name:"password",rules:[{required:!0,message:"Please input your Password!"}]},r.a.createElement(y.a.Password,{prefix:r.a.createElement(W.a,{className:"site-form-item-icon"}),value:v,onChange:function(e){return O(e.target.value)},type:"password",placeholder:"Password",iconRender:function(e){return e?r.a.createElement(Y.a,null):r.a.createElement(K.a,null)}})),r.a.createElement(B.a.Item,{name:"confirmPassword",dependencies:["password"],rules:[{required:!0,message:"Please confirm your Password!"},function(e){var t=e.getFieldValue;return{validator:function(e,a){return a&&t("password")!==a?Promise.reject("The two passwords that you entered do not match!"):Promise.resolve()}}}]},r.a.createElement(y.a.Password,{prefix:r.a.createElement(W.a,{className:"site-form-item-icon"}),value:C,onChange:function(e){return j(e.target.value)},type:"password",placeholder:"Confrim Password",iconRender:function(e){return e?r.a.createElement(Y.a,null):r.a.createElement(K.a,null)}})),r.a.createElement(B.a.Item,null,r.a.createElement(L.a,{type:"primary",htmlType:"submit",className:"login-form-button"},"Update Profile")))}),ae=(a(186),a(401)),ne=(a(386),function(e){var t=e.current,a=ae.a.Step;return r.a.createElement(ae.a,{current:t},r.a.createElement(a,{title:"Shipping Address"}),r.a.createElement(a,{title:"Payment"}),r.a.createElement(a,{title:"Place Order"}))}),re=function(e){var t=e.history,a=Object(u.c)((function(e){return e.cart})).shippingAddress,c=Object(u.b)(),o=Object(n.useState)(a&&a.address),l=Object(i.a)(o,2),s=l[0],m=l[1],E=Object(n.useState)(a&&a.city),f=Object(i.a)(E,2),g=f[0],h=f[1],b=Object(n.useState)(a&&a.postalCode),S=Object(i.a)(b,2),v=S[0],O=S[1],I=Object(n.useState)(a&&a.country),_=Object(i.a)(I,2),C=_[0],j=_[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(ne,{current:0}),r.a.createElement(B.a,{name:"normal_login",className:"address-form",onFinish:function(){var e;c((e={address:s,city:g,postalCode:v,country:C},function(){var t=Object(d.a)(p.a.mark((function t(a){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a({type:"CART_SAVE_SHIPPING_ADDRESS",payload:e}),localStorage.setItem("shippingAddress",JSON.stringify(e));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),t.push("/payment")},initialValues:{address:s||"",city:g||"",postalCode:v||"",country:C||""}},r.a.createElement(B.a.Item,{name:"address",rules:[{required:!0,message:"Please input your address!"}]},r.a.createElement(y.a,{value:s,onChange:function(e){return m(e.target.value)},placeholder:"Address"})),r.a.createElement(B.a.Item,{name:"city",rules:[{required:!0,message:"Please input your city!"}]},r.a.createElement(y.a,{value:g,onChange:function(e){return h(e.target.value)},placeholder:"City"})),r.a.createElement(B.a.Item,{name:"postalCode",rules:[{required:!0,message:"Please input your Postal Code!"}]},r.a.createElement(y.a,{value:v,onChange:function(e){return O(e.target.value)},placeholder:"Postal Code"})),r.a.createElement(B.a.Item,{name:"country",rules:[{required:!0,message:"Please input your Country!"}]},r.a.createElement(y.a,{value:C,onChange:function(e){return j(e.target.value)},placeholder:"Country"})),r.a.createElement(B.a.Item,null,r.a.createElement(L.a,{type:"primary",htmlType:"submit",className:"login-form-button"},"Continue"))))},ce=a(139),oe=(a(387),function(e){var t=e.history;Object(u.c)((function(e){return e.cart})).shippingAddress||t.push("/shipping");var a=Object(u.b)(),c=Object(n.useState)("PayPal"),o=Object(i.a)(c,2),l=o[0],s=o[1],m={display:"block",height:"30px",lineHeight:"30px"};return r.a.createElement(r.a.Fragment,null,r.a.createElement(ne,{current:1}),r.a.createElement(B.a,{name:"normal_login",className:"payment-form",onFinish:function(){var e;a((e=l,function(){var t=Object(d.a)(p.a.mark((function t(a){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a({type:"CART_SAVE_PAYMENT_METHOD",payload:e}),localStorage.setItem("paymentMehtod",JSON.stringify(e));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),t.push("/placeorder")}},r.a.createElement(B.a.Item,null,r.a.createElement(ce.a.Group,{onChange:function(e){return function(e){s(e.target.value)}(e)},value:l},r.a.createElement(ce.a,{style:m,value:"PayPal"},"PayPal or Credit Card"),r.a.createElement(ce.a,{style:m,value:"Other",disabled:!0},"Other..."))),r.a.createElement(B.a.Item,null,r.a.createElement(L.a,{type:"primary",htmlType:"submit",className:"login-form-button"},"Continue"))))}),le=a(398),se=a(104),ie=a(67),ue=a(397),me=(a(388),function(){var e=le.a.Column,t=le.a.ColumnGroup,a=Object(u.b)(),c=Object(u.c)((function(e){return e.cart})),o=c.shippingAddress,s=c.paymentMethod,i=c.cartItems,m=Object(u.c)((function(e){return e.order})),E=m.loading,g=m.success,h=m.error,y=function(e){return e.toFixed(2)},b=y(i.reduce((function(e,t){return e+t.price*t.qty}),0)),S=b>100?0:100,v=y(Number(.15*b)),O=y(Number(b)+Number(S)+Number(v)),I=[{field:"Items",value:"$".concat(b)},{field:"Shipping",value:"$".concat(S)},{field:"Taxes",value:"$".concat(v)},{field:"Total",value:"$".concat(O)}],_=function(){a(function(e){return function(){var t=Object(d.a)(p.a.mark((function t(a,n){var r,c,o,l,s;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"ORDER_CREATE_REQUEST"}),r=n(),c=r.userLogin.userInfo,o={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c.token)}},t.next=6,f.a.post("/api/order",e,o);case 6:l=t.sent,s=l.data,a({type:"ORDER_CREATE_SUCCESS",payload:s}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),a({type:"ORDER_CREATE_FAIL",payload:t.t0.response&&t.t0.response.data.msg?t.t0.response.data.msg:t.t0.response});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,a){return t.apply(this,arguments)}}()}({orderItems:i,shippingAddress:o,paymentMethod:s,itemsPrice:b,taxPrice:v,shippingPrice:S,totalPrice:O}))},C="updatable";return Object(n.useEffect)((function(){console.log(E),E?Q.b.loading({content:"Creating order...",key:C}):!1===E&&m.order?Q.b.success({content:"Order Created!",key:C,duration:2}):!1===E&&h&&Q.b.error({content:h,key:C,duration:2})}),[E,g]),r.a.createElement(r.a.Fragment,null,r.a.createElement(ne,{current:2}),r.a.createElement(se.a,{className:"order-details-container"},r.a.createElement(ie.a,{flex:3.5,className:"order-details"},r.a.createElement("div",null,r.a.createElement("h2",null,"Shipping Address"),r.a.createElement("span",null,o.address," ",o.city),",",r.a.createElement("span",null,o.postalCode),",",r.a.createElement("span",null,o.country)),r.a.createElement(ue.a,null),r.a.createElement("div",null,r.a.createElement("h2",null,"Payment Method"),r.a.createElement("span",null,"Mehtod: ",s)),r.a.createElement(ue.a,null),r.a.createElement(z.b,{header:r.a.createElement("h2",null,"Cart Items"),itemLayout:"horizontal",dataSource:i,renderItem:function(e){return r.a.createElement(z.b.Item,null,r.a.createElement(z.b.Item.Meta,{avatar:r.a.createElement(J.a,{size:"large",src:e.image}),title:r.a.createElement(l.b,{to:"/product/".concat(e.product)},e.name),description:r.a.createElement("div",null,e.qty," X $",e.price," = $",e.qty*e.price)}))}})),r.a.createElement(ie.a,{flex:1.5},r.a.createElement(le.a,{dataSource:I,pagination:!1,bordered:!0,footer:function(){return r.a.createElement(L.a,{type:"primary",className:"login-form-button",onClick:_},"Place Order")}},r.a.createElement(t,{title:"Order Summary"},r.a.createElement(e,{title:"Field",dataIndex:"field",key:"field"}),r.a.createElement(e,{title:"Value",dataIndex:"value",key:"value"}))))))}),pe=a(217),de=function(e){e.location;var t=e.component,a=e.path,n=Object(pe.a)(e,["location","component","path"]),c=Object(u.c)((function(e){return e.userLogin})).userInfo,o=a.toString().slice(1);return r.a.createElement(s.b,Object.assign({},n,{render:function(e){return c?r.a.createElement(t,Object.assign({},n,e)):r.a.createElement(s.a,{to:{pathname:"/login",search:"?redirect=".concat(o),state:{from:e.location}}})}}))};var Ee=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(l.a,null,r.a.createElement(j,null),r.a.createElement("div",{className:"app-screens"},r.a.createElement(s.d,null,r.a.createElement(s.b,{exact:!0,path:"/",component:A}),r.a.createElement(s.b,{path:"/product/:id",component:q}),r.a.createElement(s.b,{path:"/cart/:id?",component:$}),r.a.createElement(s.b,{path:"/login",component:X}),r.a.createElement(s.b,{path:"/register",component:ee}),r.a.createElement(de,{path:"/profile",component:te}),r.a.createElement(de,{path:"/shipping",component:re}),r.a.createElement(de,{path:"/payment",component:oe}),r.a.createElement(de,{path:"/placeorder",component:me}))),r.a.createElement(R,null)))},fe=a(86),ge=a(210),he=a(211),ye=a(214),be=a(46),Se=Object(fe.combineReducers)({productList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!0,products:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PRODUCT_LIST_REQUEST":return{loading:!0,products:[]};case"PRODUCT_LIST_SUCCESS":return{loading:!1,products:t.payload};case"PRODUCT_LIST_FAIL":return{loading:!1,error:t.payload};default:return e}},productDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{loading:!0,reviews:[]}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PRODUCT_DETAILS_REQUEST":return{loading:!0,product:{}};case"PRODUCT_DETAILS_SUCCESS":return{loading:!1,product:t.payload};case"PRODUCT_DETAILS_FAIL":return{loading:!1,error:t.payload};default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cartItems:[],shippingAddress:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CART_ADD_ITEM":var a=t.payload,n=e.cartItems.find((function(e){return e.product===a.product}));return n?Object(be.a)(Object(be.a)({},e),{},{cartItems:e.cartItems.map((function(e){return e.product===a.product?a:e}))}):Object(be.a)(Object(be.a)({},e),{},{cartItems:[].concat(Object(ye.a)(e.cartItems),[a])});case"CART_REMOVE_ITEM":return Object(be.a)(Object(be.a)({},e),{},{cartItems:e.cartItems.filter((function(e){return e.product!==t.payload}))});case"CART_SAVE_SHIPPING_ADDRESS":return Object(be.a)(Object(be.a)({},e),{},{shippingAddress:t.payload});case"CART_SAVE_PAYMENT_METHOD":return Object(be.a)(Object(be.a)({},e),{},{paymentMethod:t.payload});default:return e}},order:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ORDER_CREATE_REQUEST":return{loading:!0};case"ORDER_CREATE_SUCCESS":return Object(be.a)(Object(be.a)({},e),{},{loading:!1,order:t.payload});case"ORDER_CREATE_FAIL":return{loading:!1,error:t.payload};default:return e}},userLogin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_LOGIN_REQUEST":return{loading:!0,userInfo:null};case"USER_LOGIN_SUCCESS":return{loading:!1,userInfo:t.payload};case"USER_LOGIN_FAIL":return{loading:!1,error:t.payload};case"USER_LOGOUT":return{};default:return e}},userRegister:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_REGISTER_REQUEST":return{loading:!0,userInfo:null};case"USER_REGISTER_SUCCESS":return{loading:!1,userInfo:t.payload};case"USER_REGISTER_FAIL":return{loading:!1,error:t.payload};default:return e}},userDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_DETAILS_REQUEST":return Object(be.a)(Object(be.a)({},e),{},{loading:!0});case"USER_DETAILS_SUCCESS":return{loading:!1,user:t.payload};case"USER_DETAILS_FAIL":return{loading:!1,error:t.payload};default:return e}},userUpdateProfile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_UPDATE_REQUEST":return{loading:!0};case"USER_UPDATE_SUCCESS":return{loading:!1,userInfo:t.payload};case"USER_UPDATE_FAIL":return{loading:!1,error:t.payload};default:return e}}}),ve=localStorage.getItem("cartItems")?JSON.parse(localStorage.getItem("cartItems")):[],Oe=localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")):null,Ie={cart:{cartItems:ve,shippingAddress:localStorage.getItem("shippingAddress")?JSON.parse(localStorage.getItem("shippingAddress")):null,paymentMethod:localStorage.getItem("paymentMethod")?JSON.parse(localStorage.getItem("paymentMethod")):null},userLogin:{userInfo:Oe}},_e=[ge.a],Ce=Object(fe.createStore)(Se,Ie,Object(he.composeWithDevTools)(fe.applyMiddleware.apply(void 0,_e)));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(u.a,{store:Ce},r.a.createElement(Ee,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[219,1,2]]]);
//# sourceMappingURL=main.cf17e54d.chunk.js.map